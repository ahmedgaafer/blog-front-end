(this["webpackJsonpblog-front-end"]=this["webpackJsonpblog-front-end"]||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),i=n(15),s=n(44),l=n(7),d="CREATE_NEW_USER",u="LOGIN",p="LOGOUT",j="REMOVE_USER";var b="SET_ALL_POSTS",m="CREATE_NEW_POST",h="DELETE_USER_POST",f="UPDATE_USER_POST",x="SET_USER_POSTS",O="CLEAN_NUMBER_OF_LOADED_POST";function g(){return{type:O}}var v="GET_ALL_POST_COMMENTS",w="CREATE_NEW_COMMENT";var C={id:"",username:"",profileImageUrl:"",token:"",isLogged:!1};function k(e){var t=e.token,n=e.id,r=e.profileImageUrl,a=e.username;localStorage.setItem("userToken",t),localStorage.setItem("userID",n),localStorage.setItem("userImageUrl",r),localStorage.setItem("username",a)}var y=n(24),N=n(27),S=n.n(N),I={posts:[],profilePosts:[],loaded:0};var T={comments:[]};var E=Object(s.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=e;switch(t.type){case d:return k(t.user),Object(l.a)(Object(l.a)(Object(l.a)({},n),t.user),{},{isLogged:!0});case u:return 200===t.code?(k(t.user),Object(l.a)(Object(l.a)(Object(l.a)({},n),t.user),{},{isLogged:!0})):Object(l.a)({},n);case p:return localStorage.clear(),{};case j:return Object(l.a)({},n);default:return localStorage.getItem("userToken")&&(C.token=localStorage.getItem("userToken"),C.id=localStorage.getItem("userID"),C.profileImageUrl=localStorage.getItem("userImageUrl"),C.username=localStorage.getItem("username"),C.isLogged=!0),n}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n=[].concat(Object(y.a)(e.posts),Object(y.a)(t.posts)),r=n.map((function(e){return e._id})),a=n.filter((function(e,t){var n=e._id;return!r.includes(n,t+1)})).sort((function(e,t){return e.createdAt>t.createdAt?-1:t.createdAt>e.createdAt?1:0}));return Object(l.a)(Object(l.a)({},e),{},{posts:a,loaded:a.length});case m:var o=[t.post].concat(Object(y.a)(e.posts));return Object(l.a)(Object(l.a)({},e),{},{posts:o});case h:var c=Object(y.a)(e.posts);return S.a.remove(c,(function(e){return e._id===t.id})),Object(l.a)(Object(l.a)({},e),{},{posts:c});case f:var i=Object(y.a)(e.posts);return i[t.payload.index].text=t.payload.text,Object(l.a)(Object(l.a)({},e),{},{posts:i});case x:var s=[].concat(Object(y.a)(e.profilePosts),Object(y.a)(t.payload.posts));return Object(l.a)(Object(l.a)({},e),{},{profilePosts:s,loaded:s.length});case O:return Object(l.a)(Object(l.a)({},e),{},{loaded:0,profilePosts:[],posts:[]});default:return e}},commentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=Object(l.a)({},e);switch(t.type){case v:return Object(l.a)(Object(l.a)({},n),{},{comments:[].concat(Object(y.a)(n.comments),Object(y.a)(t.comments))});case w:var r=[].concat(Object(y.a)(n.comments),Object(y.a)(t.comment));return Object(l.a)(Object(l.a)({},n),{},{comments:r});default:return n}}}),L=n(20),D=n(11),P=n(25),R=n(213),U=n(22),_=n(219),A=n(227),B=n(177),M=n(67),z=n(233),W=n(222),F=n(115),G=n(111),V=n.n(G),q=n(112),J=n.n(q),H=n(234),$=n(79),Y=n.n($),Z=n(16),K=n(116),Q=n(215),X=n(4),ee=n(2),te=Object(R.a)((function(e){return{colors:{backgroundColor:"#393e46",color:"#eee",marginTop:"2vw",padding:"1vw",borderRadius:"5px"}}})),ne=function(e){var t=e.children,n=e.className,r=te();return Object(ee.jsx)(Q.a,{className:Object(X.a)(r.colors,n),fixed:!0,children:t})},re=n(106),ae=n.n(re),oe=n(26),ce=n(30),ie=n(229),se=n(220),le=n(228),de=n(108),ue=n.n(de),pe=n(109),je=n.n(pe),be=n(218),me=n(10),he=n.n(me),fe=n(17),xe={URL:"https://blog-back-end-nodejs.herokuapp.com/api/"},Oe=xe.URL;var ge=xe.URL;var ve=xe.URL;function we(){return(we=Object(fe.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userID,e.next=3,fetch(ve+"auth/getUser/".concat(n),{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(400===e.status)throw new Error("Server Error");if(404===e.status)throw new Error("Not Found");return e.json()})).then((function(e){return e})).catch((function(e){return{code:400,err:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=xe.URL;var ke=xe.URL;var ye=xe.URL;var Ne=xe.URL;var Se=xe.URL;var Ie=xe.URL;var Te=xe.URL;var Ee={Auth:{register:function(e){var t=e.username,n=e.email,r=e.password;return function(){var e=Object(fe.a)(he.a.mark((function e(a){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Oe+"auth/signup",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:t,email:n,password:r})}).then((function(e){if(400===e.status)throw new Error("Server Error");if(404===e.status)throw new Error("Not Found");return e.json()})).then((function(e){var t;a((t={code:200,user:e},Object(l.a)({type:d},t)))})).catch((function(e){return{code:400,err:e}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},login:function(e){var t=e.email,n=e.password;return function(){var e=Object(fe.a)(he.a.mark((function e(r){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ge+"auth/signin",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){if(400===e.status)throw new Error("Server Error");if(404===e.status)throw new Error("Not Found");return e.json()})).then((function(e){var t;r((t={code:200,user:e},Object(l.a)({type:u},t)))})).catch((function(e){return{code:400,err:e}}));case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getUserById:function(e){return we.apply(this,arguments)}},Post:{getAllPosts:function(e){return function(){var t=Object(fe.a)(he.a.mark((function t(n){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Ce,"post?skip=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n({type:b,posts:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},createNewPost:function(e,t,n){return function(){var r=Object(fe.a)(he.a.mark((function r(a){return he.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(ke,"post/user/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({text:n})}).then((function(e){return e.json()})).then((function(e){a({type:m,post:e})}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deleteUserPost:function(e,t,n){return function(){var r=Object(fe.a)(he.a.mark((function r(a){return he.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(ye,"post/").concat(e,"/user/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).then((function(t){a({type:h,id:e})}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},editPost:function(e,t,n,r){return function(){var a=Object(fe.a)(he.a.mark((function a(o,c){return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Ne,"post/").concat(t,"/user/").concat(n),{method:"PUT",body:JSON.stringify({text:e}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){return e.json()})).then((function(e){var n;o((n={postID:t,text:e.text,index:c},{type:f,payload:n}))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},getUserPosts:function(e,t){return function(){var n=Object(fe.a)(he.a.mark((function n(r){return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Se,"post/user/").concat(t,"?skip=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r({type:x,payload:{posts:e,userID:t}})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},Comments:{getAllPostComments:function(e){return function(){var t=Object(fe.a)(he.a.mark((function t(n){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Ie,"comment/post/").concat(e)).then((function(e){return e.json()})).then((function(e){var t;n((t=e.comments,{type:v,comments:t}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},createNewComment:function(e,t,n,r){return function(){var a=Object(fe.a)(he.a.mark((function a(o){return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Te,"comment/post/").concat(t,"/user/").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({text:e})}).then((function(e){return e.json()})).then((function(e){if(!e||e.error)throw new Error("Internal Server Error: cannot create comment");o({type:w,comment:e})})).catch((function(e){console.log(e)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}};function Le(e){var t=e.children,n=e.value,r=e.index,a=Object(K.a)(e,["children","value","index"]);return Object(ee.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},a),{},{children:n===r&&Object(ee.jsx)(le.a,{p:3,children:Object(ee.jsx)("div",{children:t})})}))}function De(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Pe=Object(R.a)((function(e){return{root:Object(D.a)({margin:"0 auto",marginTop:"30px"},e.breakpoints.down("sm"),{margin:"-1px"}),tabColor:{backgroundColor:"#393e46",color:"#eeeeee"},menuColor:{backgroundColor:"#232931",borderColor:"white",color:"#4ecca3"},btnColor:{backgroundColor:"#eeeeee",color:"#4ecca3",borderRadius:"5px",marginBottom:"5px",width:"100%"},inputGroup:{display:"flex",justifyContent:"space-around",flexDirection:"column"},submit:{backgroundColor:"#4ecca3",color:"#232931","&:hover":{color:"#2baa81",backgroundColor:"#eeeeee",border:"2px solid #2baa81"}}}})),Re=function(e){var t=e.dispatch,n=Pe(),a=Object(r.useState)({email:"",password:""}),o=Object(L.a)(a,2),c=o[0],i=o[1];function s(e){i(Object(l.a)(Object(l.a)({},c),{},Object(D.a)({},e.target.name,e.target.value)))}return Object(ee.jsxs)(oe.ValidatorForm,{className:n.inputGroup,onSubmit:function(e){e.preventDefault(),Ee.Auth.login(c)(t)},children:[Object(ee.jsx)(oe.TextValidator,{type:"email",className:n.btnColor,onChange:s,value:c.email,name:"email",id:"email",variant:"filled",label:"E-mail",autoComplete:"username",validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(ee.jsx)(oe.TextValidator,{type:"password",className:n.btnColor,onChange:s,value:c.password,name:"password",id:"password",label:"Password",variant:"filled",autoComplete:"current-password",validators:["minStringLength:4","maxStringLength:10"],errorMessages:["Password must contain 4 - 10 characters","Password must contain 4 - 10 characters"]}),Object(ee.jsx)(be.a,{type:"submit",className:n.submit,children:"Login"})]})},Ue=function(e){var t=e.dispatch,n=Pe(),a=Object(r.useState)({email:"",password:"",username:""}),o=Object(L.a)(a,2),c=o[0],i=o[1];function s(e){i(Object(l.a)(Object(l.a)({},c),{},Object(D.a)({},e.target.name,e.target.value)))}function d(e){e.preventDefault(),Ee.Auth.register(c)(t)}return Object(ee.jsxs)(oe.ValidatorForm,{className:n.inputGroup,onSubmit:d,children:[Object(ee.jsx)(oe.TextValidator,{type:"text",className:n.btnColor,onChange:s,value:c.username,name:"username",id:"username",label:"Username",variant:"filled",validators:["matchRegexp:^(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$","minStringLength:8","maxStringLength:20"],errorMessages:["Can only contain alphanumeric characters, _ , . and not start or end with ( _ or . )","Must contain 8 - 20 characters","Must contain 8 - 20 characters"]}),Object(ee.jsx)(oe.TextValidator,{type:"email",className:n.btnColor,onChange:s,value:c.email,name:"email",id:"email",label:"E-mail",variant:"filled",autoComplete:"username",validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(ee.jsx)(oe.TextValidator,{type:"password",className:n.btnColor,onChange:s,value:c.password,name:"password",id:"password",label:"Password",variant:"filled",autoComplete:"current-password",validators:["minStringLength:4","maxStringLength:10"],errorMessages:["Password must contain 4 - 10 characters","Password must contain 4 - 10 characters"]}),Object(ee.jsx)(be.a,{type:"submit",className:n.submit,onClick:d,children:"Register"})]})};function _e(){var e=Pe(),t=Object(ce.a)(),n=a.a.useState(0),r=Object(L.a)(n,2),o=r[0],c=r[1],s=Object(i.b)();return Object(ee.jsxs)(ne,{className:e.root,children:[Object(ee.jsx)(_.a,{position:"static",children:Object(ee.jsxs)(ie.a,{value:o,onChange:function(e,t){c(t)},className:e.menuColor,TabIndicatorProps:{style:{background:"#4ecca3"}},variant:"fullWidth","aria-label":"full width tabs example",children:[Object(ee.jsx)(se.a,Object(l.a)({label:"Login",icon:Object(ee.jsx)(ue.a,{})},De(0))),Object(ee.jsx)(se.a,Object(l.a)({label:"Register",icon:Object(ee.jsx)(je.a,{})},De(1)))]})}),Object(ee.jsxs)(ae.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){c(e)},className:e.tabColor,children:[Object(ee.jsx)(Le,{value:o,index:0,dir:t.direction,className:e.tabColor,children:Object(ee.jsx)("div",{children:Object(ee.jsx)(Re,{dispatch:s})})}),Object(ee.jsx)(Le,{value:o,index:1,dir:t.direction,className:e.tabColor,children:Object(ee.jsx)(Ue,{dispatch:s})})]})]})}var Ae=Object(R.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"50px"},header:{fontSize:"10vh",textAlign:"center",padding:"5px","&:hover":{backgroundColor:"rgba(78, 204, 163,0.2)",cursor:"default",borderRadius:"5px"}},logo:{color:"#4ecca3"},body:{fontSize:"32px",marginTop:"8vh"},btnColor:{backgroundColor:"#39c697",color:"#eee",borderRadius:"5px",marginBottom:"5px",width:"100%",height:"5vh","&:hover":{backgroundColor:"#393E46"}},parent:{marginTop:"8vh",width:"30%"},links:{textDecoration:"none"}}}));function Be(){var e=Ae();return Object(ee.jsxs)("div",{className:e.root,children:[Object(ee.jsxs)("div",{className:e.header,children:[Object(ee.jsx)("span",{className:e.logo,children:"G"}),"ossip"]}),Object(ee.jsx)("div",{className:e.body,children:"A new social media for sharing your thoughts"}),Object(ee.jsx)("div",{className:e.parent,children:Object(ee.jsx)(P.b,{to:"/user",className:e.links,children:Object(ee.jsx)(be.a,{className:e.btnColor,children:"Join now"})})})]})}var Me=n(221),ze=n(78),We=n.n(ze),Fe=n(223),Ge=n(231),Ve=n(217),qe=n(178),Je=n(224),He=n(110),$e=n.n(He),Ye=n(232),Ze=n(225),Ke=n(226),Qe=Object(R.a)((function(e){var t,n;return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center"},newCommentRoot:Object(D.a)({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap"}),link:{textDecoration:"none",color:"#eee",marginLeft:"20px",alignSelf:"center","&:hover":{textDecoration:"underline",fontWeight:500}},header:{display:"flex",flexDirection:"row",alignContent:"center",marginBottom:"10px",flexWrap:"wrap"},profileImage:{animation:"$shrink 1000ms ".concat(e.transitions.easing.easeInOut," both"),"&:hover":{animation:"$zoom 1000ms ".concat(e.transitions.easing.easeInOut," both")}},divider:{width:"63vw",height:3,marginBottom:30,flexGrow:0},newCommentDivider:{height:30,marginLeft:20,marginTop:13},newCommentDividerColor:{backgroundColor:"#4ecca3"},dividerColor:{backgroundColor:"#5b5d68"},comment:{borderTop:"1px solid #4ecca3",width:"90%",padding:" 10px 0",fontSize:"14px",marginBottom:"15px"},newComment:{marginBottom:"20px",margin:"0 auto",width:"90%"},flex:{display:"flex",flexDirection:"row",alignItems:"center"},post:{margin:"30px 10px"},textInput:{color:"#eee"},input:(t={backgroundColor:"#232931",color:"#eee",marginLeft:e.spacing(1),width:"1200px !important"},Object(D.a)(t,e.breakpoints.down("lg"),{width:"1150px !important"}),Object(D.a)(t,e.breakpoints.down("md"),{width:"850px !important"}),Object(D.a)(t,e.breakpoints.down("sm"),{width:"450px !important"}),Object(D.a)(t,e.breakpoints.down(e.breakpoints.values.xs+500),{width:"290px !important"}),t),commentInput:(n={backgroundColor:"#393E46",color:"#232931",marginLeft:e.spacing(1),width:"1150px !important"},Object(D.a)(n,e.breakpoints.down("lg"),{width:"1150px !important"}),Object(D.a)(n,e.breakpoints.down("md"),{width:"850px !important"}),Object(D.a)(n,e.breakpoints.down("sm"),{width:"450px !important"}),Object(D.a)(n,e.breakpoints.down(e.breakpoints.values.xs+500),{width:"290px !important"}),n),iconButton:{color:"#4ecca3",flexGrow:0},commentField:{color:"#eee",borderColor:"#232931"},fieldColors:{color:"#eee",borderColor:"#4ecca3"},focused:{},"@keyframes zoom":{"0%":{transform:"scale(1)"},"100%":{transform:"scale(2)"}},"@keyframes shrink":{"0%":{transform:"scale(2)"},"100%":{transform:"scale(1)"}}}}));function Xe(e){e._id;var t=e.text,n=e.user,r=Qe();return Object(ee.jsxs)("div",{className:r.root,children:[Object(ee.jsxs)("div",{className:r.header,children:[Object(ee.jsx)(H.a,{alt:n.username,className:r.profileImage,src:"https://www.gravatar.com/avatar/".concat(n.profileImageUrl)}),Object(ee.jsx)(P.b,{to:"/profile/".concat(n._id),className:r.link,children:S.a.startCase(S.a.toLower(n.username))})]}),Object(ee.jsx)("div",{className:r.comment,children:t})]})}var et=function(e){var t=e.postID,n=Qe(),r=Object(i.b)(),o=Object(i.c)((function(e){return e.authReducer})),c=a.a.useState(""),s=Object(L.a)(c,2),l=s[0],d=s[1];return Object(ee.jsx)("div",{className:n.newComment,children:Object(ee.jsx)("div",{children:Object(ee.jsx)(oe.ValidatorForm,{onSubmit:function(e){e.preventDefault();var n=l,a=o.id,c=o.token;d(""),Ee.Comments.createNewComment(n,t,a,c)(r)},children:Object(ee.jsxs)("div",{className:n.newCommentRoot,children:[Object(ee.jsx)(oe.TextValidator,{multiline:!0,className:n.commentInput,onChange:function(e){d(e.target.value)},value:l,InputLabelProps:{classes:{root:n.commentField}},InputProps:{classes:{notchedOutline:n.commentField,input:n.commentField,focused:n.commentField}},variant:"outlined",label:"Write a new comment",validators:["required","minStringLength: 1"],errorMessages:["This field is required","The comment must contain at least 1 character"]}),Object(ee.jsx)(Me.a,{className:n.newCommentDivider,orientation:"vertical",classes:{root:n.newCommentDividerColor}}),Object(ee.jsx)(B.a,{type:"submit",color:"primary",className:n.iconButton,"aria-label":"directions",children:Object(ee.jsx)(We.a,{})})]})})})})};function tt(e){var t=e.postID,n=Qe(),r=Object(i.c)((function(e){return e.commentReducer.comments.map((function(e){if(e.post===t)return e})).filter((function(e){return void 0!==e}))}));return r=Object(y.a)(new Map(r.map((function(e){return[e._id,e]}))).values()),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(et,{postID:t}),!r||0===r.length||S.a.some()?"There are no comments yet! be the first one to comment":r.map((function(e,t){return Object(ee.jsxs)(a.a.Fragment,{children:[Object(ee.jsx)(Xe,Object(l.a)({},e)),t<r.length-1?Object(ee.jsx)(Me.a,{className:n.divider,classes:{root:n.dividerColor}}):""]},e._id)}))]})}var nt=n(102),rt=Object(R.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center"},link:{textDecoration:"none",color:"#eee",marginLeft:"20px",alignSelf:"center","&:hover":{textDecoration:"underline",fontWeight:500}},colors:{backgroundColor:"#393e46",color:"#eee"},header:{display:"flex",flexDirection:"row",alignContent:"center",marginBottom:"10px"},ownerMenu:{display:"flex",justifyContent:"flex-end",width:"100%"},profileImage:{animation:"$shrink 1000ms ".concat(e.transitions.easing.easeInOut," both"),"&:hover":{animation:"$zoom 1000ms ".concat(e.transitions.easing.easeInOut," both")}},post:{borderTop:"1px solid #4ecca3",padding:" 10px 0",fontSize:"18px"},comments:{fontSize:"16px"},commentSection:{backgroundColor:"#232931",color:"#eee !important"},"@keyframes zoom":{"0%":{transform:"scale(1)"},"100%":{transform:"scale(2)"}},"@keyframes shrink":{"0%":{transform:"scale(2)"},"100%":{transform:"scale(1)"}}}}));function at(e){var t=e.postID,n=e.userID,r=e.dispatch,o=e.currentIndex,c=a.a.useState(null),i=Object(L.a)(c,2),s=i[0],l=i[1],d=a.a.useState(!1),u=Object(L.a)(d,2),p=u[0],j=u[1],b=a.a.useState(!1),m=Object(L.a)(b,2),h=m[0],f=m[1],x=a.a.useState(""),O=Object(L.a)(x,2),g=O[0],v=O[1],w=rt(),C=localStorage.getItem("userToken"),k=function(e){j(!1),"Yes"===e&&Ee.Post.deleteUserPost(t,n,C)(r)},y=function(e){f(!1),Ee.Post.editPost(e,t,n,C)(r,o)};return Object(ee.jsxs)("div",{className:w.ownerMenu,children:[Object(ee.jsx)(B.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(ee.jsx)(Y.a,{style:{color:"white"}})}),Object(ee.jsxs)(F.a,{classes:{paper:w.colors},id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){l(null)},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(ee.jsx)(W.a,{onClick:function(){f(!0),l(null)},children:"Edit"}),Object(ee.jsx)(W.a,{style:{color:"red"},onClick:function(){j(!0),l(null)},children:"Delete"})]}),Object(ee.jsxs)(Ge.a,{onClose:y,"aria-labelledby":"post-edit",open:h,children:[Object(ee.jsx)(Fe.a,{id:"post-edit",children:"What is the new Post Content?"}),Object(ee.jsx)(nt.a,{value:g,onChange:function(e){v(e.target.value)}}),Object(ee.jsx)(Ve.a,{children:["Confirm Edit","Discard changes"].map((function(e){return Object(ee.jsx)(qe.a,{button:!0,onClick:function(){y(g)},children:Object(ee.jsx)(Je.a,{primary:e})},e)}))})]}),Object(ee.jsxs)(Ge.a,{onClose:k,"aria-labelledby":"post-delete",open:p,children:[Object(ee.jsx)(Fe.a,{id:"post-delete",children:"Are you sure you want to delete the post?"}),Object(ee.jsx)(Ve.a,{children:["Yes","No"].map((function(e){return Object(ee.jsx)(qe.a,{button:!0,onClick:function(){k(e)},children:Object(ee.jsx)(Je.a,{primary:e})},e)}))})]})]})}function ot(e){var t=e.username,n=e.profileImageUrl,a=e.postID,o=e.postContent,c=e.currentIndex,s=e._id,l=rt(),d=Object(r.useState)(!0),u=Object(L.a)(d,2),p=u[0],j=u[1],b=s,m=localStorage.getItem("userID"),h=Object(i.b)();return Object(ee.jsxs)(ne,{className:l.root,children:[Object(ee.jsxs)("div",{className:l.header,children:[Object(ee.jsx)(H.a,{alt:t,className:l.profileImage,src:"https://www.gravatar.com/avatar/".concat(n)})," ",Object(ee.jsx)(P.b,{to:{pathname:"/profile/".concat(b)},className:l.link,children:S.a.startCase(S.a.toLower(t))}),b===m&&Object(ee.jsx)(at,{currentIndex:c,postID:a,userID:m,dispatch:h})]}),Object(ee.jsx)("div",{className:l.post,children:o}),Object(ee.jsx)("div",{className:l.comment,children:Object(ee.jsxs)(Ye.a,{className:l.commentSection,onClick:function(e){p?(Ee.Comments.getAllPostComments(a)(h),j(!p)):j(!p)},children:[Object(ee.jsx)(Ze.a,{expandIcon:Object(ee.jsx)($e.a,{style:{color:"#eee"}}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(ee.jsx)(M.a,{children:"Comments"})}),Object(ee.jsx)(Ke.a,{children:Object(ee.jsx)("div",{children:Object(ee.jsx)(tt,{postID:a})})})]})})]})}var ct=Object(R.a)((function(e){return{post:{margin:"30px 10px"}}}));function it(e){var t=e.posts,n=ct();return Object(ee.jsx)("div",{children:!!(t&&t.length>0)&&t.map((function(e,t){return Object(ee.jsx)("div",{className:n.post,children:Object(ee.jsx)(ot,Object(l.a)(Object(l.a)({currentIndex:t},e.user),{},{postID:e._id,postContent:e.text}))},"".concat(e._id).concat(t))}))})}var st=Object(R.a)((function(e){var t;return{root:{padding:"2px 4px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",backgroundColor:"transparent",margin:"10px 0px"},flex:{display:"flex",flexDirection:"row",alignItems:"center"},newPost:{padding:"10px"},textInput:{color:"#eee"},input:(t={backgroundColor:"#232931",color:"#eee",marginLeft:e.spacing(1),width:"1200px !important"},Object(D.a)(t,e.breakpoints.down("lg"),{width:"1150px !important"}),Object(D.a)(t,e.breakpoints.down("md"),{width:"850px !important"}),Object(D.a)(t,e.breakpoints.down("sm"),{width:"450px !important"}),Object(D.a)(t,e.breakpoints.down(e.breakpoints.values.xs+500),{width:"290px !important"}),t),iconButton:{color:"#4ecca3",flexGrow:0},divider:{height:30,marginLeft:20,flexGrow:0},dividerColor:{backgroundColor:"#4ecca3"},fieldColors:{color:"#eee",borderColor:"#4ecca3"},focused:{}}}));Element.prototype.hasScrollBars=function(){return{vertical:this.scrollHeight>this.style.height,horizontal:this.scrollWidth>this.style.width}};var lt=function(){var e=["What's Up? \ud83d\ude0e","What are you thinking \ud83e\udd14","Do you want to share something... \ud83d\ude44"],t=st(),n=Object(i.b)(),r=Object(i.c)((function(e){return e.authReducer})),o=a.a.useState(""),c=Object(L.a)(o,2),s=c[0],l=c[1],d=a.a.useState(e[Math.floor(Math.random()*e.length)]),u=Object(L.a)(d,1)[0];return Object(ee.jsxs)(ne,{className:t.newPost,children:[Object(ee.jsx)("div",{children:u}),Object(ee.jsx)("div",{children:Object(ee.jsx)(oe.ValidatorForm,{onSubmit:function(e){e.preventDefault();var t=s,a=r.id,o=r.token;l(""),Ee.Post.createNewPost(a,o,t)(n)},children:Object(ee.jsxs)("div",{className:t.root,children:[Object(ee.jsx)(oe.TextValidator,{multiline:!0,className:t.input,onChange:function(e){l(e.target.value)},value:s,InputLabelProps:{classes:{root:t.fieldColors}},InputProps:{classes:{notchedOutline:t.fieldColors,input:t.fieldColors,focused:t.fieldColors}},variant:"outlined",label:"Write a new post",validators:["required","minStringLength: 10"],errorMessages:["This field is required","This field must contain at least 10 characters"]}),Object(ee.jsx)(Me.a,{className:t.divider,orientation:"vertical",classes:{root:t.dividerColor}}),Object(ee.jsx)(B.a,{type:"submit",color:"primary",className:t.iconButton,"aria-label":"directions",children:Object(ee.jsx)(We.a,{})})]})})})]})};function dt(e){var t=e.id,n=Object(i.b)(),a=Object(i.c)((function(e){return e.postReducer.posts})),o=Object(i.c)((function(e){return e.postReducer.loaded}));return Object(r.useEffect)((function(){0===o&&Ee.Post.getAllPosts(o)(n),o>5&&o%5===0&&window.scrollTo(0,.6*document.body.scrollHeight);var e=function(e,t,n){return S.a.throttle((function(n){console.log("CALLED!");var r=document.documentElement.offsetHeight-window.innerHeight;document.documentElement.scrollTop===r&&Ee.Post.getAllPosts(e)(t)}),n)}(o,n,1e3);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[o,n,t]),Object(r.useEffect)((function(){n(g())}),[]),Object(ee.jsxs)("div",{children:[!t&&Object(ee.jsx)(lt,{}),Object(ee.jsx)(it,{posts:a})]})}var ut=Object(R.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"50px"},large:{bottom:"5vh",width:e.spacing(15),height:e.spacing(15),border:"2px solid #4ecca3",transition:"transform 0.15s ease-in-out","&:hover":{transform:"scale(2)",cursor:"pointer"}},name:{fontSize:"23px",letterSpacing:e.spacing(1.5)},divider:{width:"90%"},dividerColor:{backgroundColor:"#4ecca3"},socialInfo:Object(D.a)({marginTop:"30px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column"}),infoDivider:Object(D.a)({height:100,width:1},e.breakpoints.down("sm"),{display:"none"}),infoBlock:Object(D.a)({display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},e.breakpoints.down("sm"),{marginTop:"40px"}),infoTitle:{fontSize:"24px",letterSpacing:e.spacing(.5),color:"#2caa81"},followField:{margin:"60px 0",minWidth:"90%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignContent:"center"},follow:{color:"#4ECCA3",borderRadius:"0",margin:"0 auto",letterSpacing:e.spacing(2),border:"1px solid #4ECCA3"},filler1:{minWidth:"35%"},filler2:{minWidth:"25%"}}}));function pt(){var e=ut(),t=Object(i.b)(),n=Object(Z.g)().userID,a=Object(i.c)((function(e){return e.postReducer.loaded})),o=Object(i.c)((function(e){return e.postReducer.profilePosts})),c=Object(r.useState)({name:"none",img:"none",followers:"none",following:"none",numberOfPosts:"none"}),s=Object(L.a)(c,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){0===a&&(Ee.Post.getUserPosts(a,n)(t),Object(fe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.Auth.getUserById({userID:n});case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})))()),a>5&&a%5===0&&window.scrollTo(0,.6*document.body.scrollHeight);var e=function(e,t,n,r){return S.a.throttle((function(r){console.log("CALLED!");var a=document.documentElement.offsetHeight-window.innerHeight;document.documentElement.scrollTop===a&&Ee.Post.getUserPosts(e,t)(n)}),r)}(a,n,t,1e3);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[a,t,n]),Object(r.useEffect)((function(){t(g())}),[n]),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(ne,{className:e.root,children:[Object(ee.jsx)(H.a,{alt:l.name,src:"https://www.gravatar.com/avatar/".concat(l.img,"?s=500"),className:e.large,onClick:function(e){window.open(e.target.src,"_blank").focus()}}),Object(ee.jsx)(M.a,{className:e.name,children:l.name.replace(/(\w)(\w*)/g,(function(e,t,n){return t.toUpperCase()+n.toLowerCase()}))}),Object(ee.jsx)(Me.a,{className:e.divider,classes:{root:e.dividerColor}}),Object(ee.jsxs)("div",{className:e.socialInfo,children:[Object(ee.jsxs)("div",{className:e.infoBlock,children:[Object(ee.jsx)("div",{className:e.infoTitle,children:"Number Of Posts"}),Object(ee.jsx)("div",{children:l.numberOfPosts})]}),Object(ee.jsx)(Me.a,{className:e.infoDivider,dir:"vertical",classes:{root:e.dividerColor}}),Object(ee.jsxs)("div",{className:e.infoBlock,children:[Object(ee.jsx)("div",{className:e.infoTitle,children:"Followers"}),Object(ee.jsx)("div",{children:l.followers})]}),Object(ee.jsx)(Me.a,{className:e.infoDivider,dir:"vertical",classes:{root:e.dividerColor}}),Object(ee.jsxs)("div",{className:e.infoBlock,children:[Object(ee.jsx)("div",{className:e.infoTitle,children:"Following"}),Object(ee.jsx)("div",{children:l.following})]})]}),Object(ee.jsxs)("div",{className:e.followField,children:[Object(ee.jsx)("div",{className:e.filler1}),Object(ee.jsxs)(B.a,{className:e.follow,"aria-label":"delete",children:["Fol","low"]}),Object(ee.jsx)("div",{className:e.filler2})]})]}),Object(ee.jsx)(it,{posts:o})]})}var jt=function(e){var t=e.isLogged;return Object(ee.jsxs)(Z.d,{children:[Object(ee.jsx)(Z.b,{exact:!0,path:"/",children:t?Object(ee.jsx)(Z.a,{to:"/timeline"}):Object(ee.jsx)(Be,{})}),Object(ee.jsx)(Z.b,{path:"/user",children:t?Object(ee.jsx)(Z.a,{to:"/"}):Object(ee.jsx)(_e,{})}),Object(ee.jsx)(Z.b,{path:"/timeline",children:t?Object(ee.jsx)(dt,{}):Object(ee.jsx)(_e,{})}),Object(ee.jsx)(Z.b,{path:"/profile/:userID",children:t?Object(ee.jsx)(pt,{}):Object(ee.jsx)(_e,{})}),Object(ee.jsx)(Z.b,{path:"*",children:t?Object(ee.jsx)(Z.a,{to:"/"}):Object(ee.jsx)(_e,{})})]})},bt=Object(R.a)((function(e){return{"@global":{"*::-webkit-scrollbar":{width:"0.2em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.0)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#4ecca3",borderRadius:"10px"},"*::-webkit-scrollbar-thumb:hover":{backgroundColor:"#438770"}},colors:{backgroundColor:"#393e46",color:"#eee"},active:{color:"#4ecca3 !important"},logo:{display:"flex !important",width:"6vw","&:hover":{backgroundColor:Object(U.b)("#4ecca3",.25),borderRadius:"5px"}},left:Object(D.a)({marginLeft:"90vw"},e.breakpoints.down("sm"),{marginLeft:"75vw"}),logoSize:{maxWidth:"20px",minWidth:"15px",display:"inline",paddingLeft:"2px",marginRight:e.spacing(1)},links:{textDecoration:"none",color:"#eeeeee"},grow:{flexGrow:1},appBarRes:Object(D.a)({},e.breakpoints.down("sm"),{width:"100vw",marginBottom:"50px"}),menuButton:{marginRight:e.spacing(2)},title:Object(D.a)({display:"none",letterSpacing:e.spacing(1)},e.breakpoints.up(e.breakpoints.values.lg+500),{display:"block"}),search:Object(D.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(U.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(U.b)(e.palette.common.white,.25)},marginRight:e.spacing(4),marginLeft:0,width:"40vw%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),maxWidth:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(D.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(D.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(D.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function mt(){var e=bt(),t=Object(i.b)(),n=a.a.useState(null),r=Object(L.a)(n,2),o=r[0],c=r[1],s=a.a.useState(null),d=Object(L.a)(s,2),u=d[0],j=d[1],b=Boolean(o),m=Boolean(u),h=Object(i.c)((function(e){return e.authReducer.id})),f=function(){j(null)},x=function(){c(null),f()},O=function(){c(null),f(),t({type:p,user:{id:"",username:"",profileImageUrl:"",token:"",isLogged:!1}})},g=function(t,n){return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(P.b,{exact:!0,className:e.links,activeClassName:e.active,to:"/timeline",children:Object(ee.jsx)(W.a,{onClick:t,children:"Timeline"})}),Object(ee.jsx)(P.b,{exact:!0,className:e.links,activeClassName:e.active,to:{pathname:"/profile/".concat(h)},children:Object(ee.jsx)(W.a,{onClick:t,children:"Profile"})}),Object(ee.jsx)(W.a,{onClick:n,children:"Logout"})]})},v="primary-search-account-menu",w=Object(ee.jsx)(F.a,{classes:{paper:e.colors},anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:x,children:g(x,O)}),C="primary-search-account-menu-mobile",k=Object(ee.jsx)(F.a,{classes:{paper:e.colors},anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:C,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:f,children:g(f,O)}),y=Object(i.c)((function(e){return e.authReducer}));return Object(ee.jsxs)("div",{className:e.grow,children:[Object(ee.jsx)(_.a,{position:"static",className:Object(X.a)(e.colors,e.appBarRes),children:Object(ee.jsxs)(A.a,{children:[Object(ee.jsxs)(P.b,{className:Object(X.a)(e.links,e.logo),to:"/",children:[Object(ee.jsx)("img",{src:"".concat("/blog-front-end","/logo.svg"),className:e.logoSize,alt:"logo"}),Object(ee.jsx)(M.a,{className:e.title,variant:"h6",children:"ossip"})]}),y.isLogged?Object(ee.jsxs)(a.a.Fragment,{children:[Object(ee.jsxs)("div",{className:e.search,children:[Object(ee.jsx)("div",{className:e.searchIcon,children:Object(ee.jsx)(V.a,{})}),Object(ee.jsx)(z.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(ee.jsx)("div",{className:e.grow}),Object(ee.jsx)("div",{className:e.sectionDesktop,children:Object(ee.jsx)(B.a,{edge:"end","aria-label":"account of current user","aria-controls":v,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(ee.jsx)(H.a,{alt:y.username,src:"https://www.gravatar.com/avatar/".concat(y.profileImageUrl)})})}),Object(ee.jsx)("div",{className:e.sectionMobile,children:Object(ee.jsx)(B.a,{className:e.colors,"aria-label":"show more","aria-controls":C,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(ee.jsx)(Y.a,{})})})]}):Object(ee.jsx)("div",{children:Object(ee.jsx)("div",{className:e.left,children:Object(ee.jsx)(P.b,{className:e.links,to:"/user",children:Object(ee.jsx)(B.a,{edge:"end","aria-label":"Login/ Register",color:"inherit",children:Object(ee.jsx)(J.a,{})})})})})]})}),Object(ee.jsx)("div",{children:Object(ee.jsx)(jt,Object(l.a)({},y))}),k,w]})}var ht=n(113),ft=n(114),xt=(n(173),Object(ft.composeWithDevTools)(Object(s.applyMiddleware)(ht.a))),Ot=Object(s.createStore)(E,xt);c.a.render(Object(ee.jsx)(i.a,{store:Ot,children:Object(ee.jsx)(P.a,{children:Object(ee.jsx)(mt,{})})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.d89683d3.chunk.js.map